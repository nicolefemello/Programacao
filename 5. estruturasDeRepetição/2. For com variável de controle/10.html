<meta charset="UTF-8">
<script>
    /* terminar!
    PROBLEMA: REPRESENTANTE DE SALA
    Peça para o programa perguntar ao professor regente o nome dos três candidatos a representante da sala.
    Peça também para o programa perguntar ao professor regente a quantidade de alunos votantes.
    Desenvolva um programa que armazene o voto de cada aluno da sala e apresente o resultado da votação, com o quantitativo de votos 
    e também a porcentagem de votos de cada candidato a representante de sala.
    */

    //ENTRADA
    const perguntas = [
        "Nome do 1° candidato a representante da sala:",
        "Nome do 2° candidato a representante da sala:",
        "Nome do 3° candidato a representante da sala:"
    ];
    let candidatos = [];
    for (let i = 0; i < perguntas.length; i++) {
        let gerarPergunta = prompt(perguntas[i]).toLowerCase();
        while (!isNaN(gerarPergunta) || /\s/.test(gerarPergunta) || gerarPergunta == "" || candidatos.includes(gerarPergunta)) {
            alert(`Informe corretamente o nome do candidato ${i + 1}!`);
            gerarPergunta = prompt(perguntas[i]).toLowerCase();
        }
        if (isNaN(gerarPergunta)) {
            candidatos.push(gerarPergunta);
        }
    }
    let alunos = Number(prompt("Informe a quantidade de alunos votantes:"));
    while (isNaN(alunos) || /\s/.test(alunos) || alunos == "" || alunos < 1) {
        alert("Informe corretamente a quantidade de alunos votantes!");
        alunos = Number(prompt("Informe a quantidade de alunos votantes:"));
    }

    //PROCESSAMENTO
    let contadorCandidato1 = 0;
    let contadorCandidato2 = 0;
    let contadorCandidato3 = 0;
    for (let i = 1; i <= alunos; i++) {
        let perguntarVoto = prompt(`Candidato 1: ${candidatos[0]}\nCandidato 2: ${candidatos[1]}\nCandidato 3: ${candidatos[2]}\nInforme o voto do aluno ${i}:`).toLowerCase();
        while (!isNaN(perguntarVoto) || /\s/.test(perguntarVoto) || perguntarVoto == "" || !candidatos.includes(perguntarVoto)) {
            alert(`Informe seu voto num candidato válido!`);
            perguntarVoto = prompt(`Candidato 1: ${candidatos[0]}\nCandidato 2: ${candidatos[1]}\nCandidato 3: ${candidatos[2]}\nInforme o voto do aluno ${i}:`).toLowerCase();
        }
        if (perguntarVoto == candidatos[0]) {
            contadorCandidato1++;
        } else if (perguntarVoto == candidatos[1]) {
            contadorCandidato2++;
        } else {
            contadorCandidato3++;
        }
    }
    const porcentagemCandidato1 = (contadorCandidato1 / alunos) * 100;
    const porcentagemCandidato2 = (contadorCandidato2 / alunos) * 100;
    const porcentagemCandidato3 = (contadorCandidato3 / alunos) * 100;


    //SAÍDA
    if (contadorCandidato1 > contadorCandidato2 && contadorCandidato2 > contadorCandidato3) {
        document.write(`Resultado da votação<br>
    <li><strong>1° Lugar: ${candidatos[0]}</strong> com ${contadorCandidato1} votos! Este candidato obteve ${porcentagemCandidato1.toFixed(2)}% dos votos da sala</li>
    <li><strong>2° Lugar: ${candidatos[1]}</strong> com ${contadorCandidato2} votos! Este candidato obteve ${porcentagemCandidato2.toFixed(2)}% dos votos da sala</li>
    <li><strong>3° Lugar: ${candidatos[2]}</strong> com ${contadorCandidato3} votos! Este candidato obteve ${porcentagemCandidato3.toFixed(2)}% dos votos da sala</li>`);
    } else if (contadorCandidato1 > contadorCandidato3 && contadorCandidato3 > contadorCandidato2) {
        document.write(`Resultado da votação<br>
    <li><strong>1° Lugar: ${candidatos[0]}</strong> com ${contadorCandidato1} votos! Este candidato obteve ${porcentagemCandidato1.toFixed(2)}% dos votos da sala</li>
    <li><strong>2° Lugar: ${candidatos[2]}</strong> com ${contadorCandidato3} votos! Este candidato obteve ${porcentagemCandidato3.toFixed(2)}% dos votos da sala</li>
    <li><strong>3° Lugar: ${candidatos[1]}</strong> com ${contadorCandidato2} votos! Este candidato obteve ${porcentagemCandidato2.toFixed(2)}% dos votos da sala</li>`);
    } else if (contadorCandidato2 > contadorCandidato1 && contadorCandidato1 > contadorCandidato3) {
        document.write(`Resultado da votação<br>
    <li><strong>1° Lugar: ${candidatos[1]}</strong> com ${contadorCandidato2} votos! Este candidato obteve ${porcentagemCandidato2.toFixed(2)}% dos votos da sala</li>
    <li><strong>2° Lugar: ${candidatos[0]}</strong> com ${contadorCandidato1} votos! Este candidato obteve ${porcentagemCandidato1.toFixed(2)}% dos votos da sala</li>
    <li><strong>3° Lugar: ${candidatos[2]}</strong> com ${contadorCandidato3} votos! Este candidato obteve ${porcentagemCandidato3.toFixed(2)}% dos votos da sala</li>`);
    } else if (contadorCandidato2 > contadorCandidato3 && contadorCandidato3 > contadorCandidato1) {
        document.write(`Resultado da votação<br>
    <li><strong>1° Lugar: ${candidatos[1]}</strong> com ${contadorCandidato2} votos! Este candidato obteve ${porcentagemCandidato2.toFixed(2)}% dos votos da sala</li>
    <li><strong>2° Lugar: ${candidatos[2]}</strong> com ${contadorCandidato3} votos! Este candidato obteve ${porcentagemCandidato3.toFixed(2)}% dos votos da sala</li>
    <li><strong>3° Lugar: ${candidatos[0]}</strong> com ${contadorCandidato1} votos! Este candidato obteve ${porcentagemCandidato1.toFixed(2)}% dos votos da sala</li>`);
    } else if (contadorCandidato3 > contadorCandidato1 && contadorCandidato1 > contadorCandidato2) {
        document.write(`Resultado da votação<br>
    <li><strong>1° Lugar: ${candidatos[2]}</strong> com ${contadorCandidato3} votos! Este candidato obteve ${porcentagemCandidato3.toFixed(2)}% dos votos da sala</li>
    <li><strong>2° Lugar: ${candidatos[0]}</strong> com ${contadorCandidato1} votos! Este candidato obteve ${porcentagemCandidato1.toFixed(2)}% dos votos da sala</li>
    <li><strong>3° Lugar: ${candidatos[1]}</strong> com ${contadorCandidato2} votos! Este candidato obteve ${porcentagemCandidato2.toFixed(2)}% dos votos da sala</li>`);
    } else {
        document.write(`Resultado da votação<br>
    <li><strong>1° Lugar: ${candidatos[2]}</strong> com ${contadorCandidato3} votos! Este candidato obteve ${porcentagemCandidato3.toFixed(2)}% dos votos da sala</li>
    <li><strong>2° Lugar: ${candidatos[1]}</strong> com ${contadorCandidato2} votos! Este candidato obteve ${porcentagemCandidato2.toFixed(2)}% dos votos da sala</li>
    <li><strong>3° Lugar: ${candidatos[0]}</strong> com ${contadorCandidato1} votos! Este candidato obteve ${porcentagemCandidato1.toFixed(2)}% dos votos da sala</li>`);
    }
</script>