<meta charset="UTF-8">
<script>
    /*
    PROBLEMA: REPRESENTANTE DE SALA
    Peça para o programa perguntar ao professor regente o nome dos três candidatos a representante da sala.
    Peça também para o programa perguntar ao professor regente a quantidade de alunos votantes.
    Desenvolva um programa que armazene o voto de cada aluno da sala e apresente o resultado da votação, com o quantitativo de votos 
    e também a porcentagem de votos de cada candidato a representante de sala.
    */

    //ENTRADA
    let eleicao = [];

    for (i = 1; i <= 3; i++) {
        let candidato = { nome: '', votos: 0, porcentagem: 0 };

        do {
            if (candidato.nome != '') alert("Informe o nome do candiato!");
            candidato.nome = prompt("Informe o nome do candidato:").trim().toLowerCase();
        } while (!isNaN(candidato.nome) || candidato.nome == "");
        eleicao.push(candidato);
    }

    let alunos;
    do {
        if (alunos != undefined) alert("Informe o número de alunos votantes!");
        alunos = Number(prompt("Informe o número de alunos votantes da sala:"));
    } while (isNaN(alunos) || alunos == "" || alunos <= 0);

    //PROCESSAMENTO
    for (i = 1; i <= alunos; i++) {
        let voto;

        do {
            if (voto != undefined) alert("Informe um voto válido!");
            voto = prompt(`Informe seu voto: ${eleicao[0].nome}, ${eleicao[1].nome} ou ${eleicao[2].nome}`).trim().toLowerCase();
        } while (!isNaN(voto) || voto == '' || (voto != eleicao[0].nome && voto != eleicao[1].nome && voto != eleicao[2].nome))

        (voto == eleicao[0].nome) ? eleicao[0].votos += 1 : (voto == eleicao[1].nome) ? eleicao[1].votos += 1 : eleicao[2].votos += 1;
    }

    eleicao.sort((a, b) => b.votos - a.votos);

    for (i = 0; i < eleicao.length; i++) {
        eleicao[i].porcentagem += (eleicao[i].votos / alunos) * 100;
    }

    //SAÍDA
    document.write(`Na sala houve três candidatos a representante, entre eles: ${eleicao[0].nome}, ${eleicao[1].nome} e ${eleicao[2].nome}<br>
    <br>Em 1º lugar, ${eleicao[0].nome} com: ${eleicao[0].votos} votos, cerca de ${eleicao[0].porcentagem.toFixed(2)}% dos votos
    <br>Em 2º lugar, ${eleicao[1].nome} com: ${eleicao[1].votos} votos, cerca de ${eleicao[1].porcentagem.toFixed(2)}% dos votos
    <br>E em 3º lugar, ${eleicao[2].nome} com: ${eleicao[2].votos} votos, cerca de ${eleicao[2].porcentagem.toFixed(2)}% dos votos`);
</script>